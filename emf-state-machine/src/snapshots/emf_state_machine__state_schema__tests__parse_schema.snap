---
source: emf-state-machine/src/state_schema.rs
expression: schema

---
{
  "components": {
    "client_mount": {
      "states": {
        "mounted": null,
        "unmounted": null
      },
      "actions": {
        "create": {
          "input": {
            "hostlist": [
              "string"
            ],
            "mountpoint": "string",
            "mountspec": "string",
            "tags": [
              "string"
            ]
          },
          "provisional": true,
          "state": {
            "start": null,
            "end": "mounted"
          }
        }
      }
    },
    "filesystem": {
      "states": {
        "started": {
          "dependencies": [
            {
              "or": [
                {
                  "name": "this.mgt",
                  "state": "mounted"
                },
                {
                  "name": "this.mgt_mdt",
                  "state": "mounted"
                }
              ]
            },
            {
              "all": [
                {
                  "name": "this.mdt",
                  "state": "mounted"
                }
              ]
            },
            {
              "all": [
                {
                  "name": "this.ost",
                  "state": "mounted"
                }
              ]
            }
          ]
        },
        "stopped": null,
        "unavailable": null
      },
      "actions": {
        "create": {
          "input": {
            "mdts_volumes": [
              "string"
            ],
            "mgt": "string",
            "mgt_type": "string",
            "name": "string",
            "ost_volumes": [
              "string"
            ]
          },
          "provisional": true,
          "state": {
            "start": null,
            "end": "stopped"
          }
        },
        "start": {
          "input": {
            "name": "String"
          },
          "provisional": false,
          "state": {
            "start": [
              "stopped",
              "unavailable"
            ],
            "end": "started"
          }
        },
        "stop": {
          "input": {
            "name": "String"
          },
          "provisional": false,
          "state": {
            "start": [
              "available"
            ],
            "end": "stopped"
          }
        }
      }
    },
    "lnet": {
      "states": {
        "configured": null,
        "down": null,
        "loaded": null,
        "unloaded": null,
        "up": null
      },
      "actions": {
        "configure": {
          "input": [
            "string"
          ],
          "provisional": false,
          "state": {
            "start": [
              "loaded"
            ],
            "end": "configured"
          }
        },
        "export": {
          "input": null,
          "provisional": false,
          "state": {
            "start": [
              "configured"
            ],
            "end": "up"
          }
        },
        "import": {
          "input": "string",
          "provisional": false,
          "state": {
            "start": null,
            "end": "unloaded"
          }
        },
        "load": {
          "input": null,
          "provisional": false,
          "state": {
            "start": [
              "unloaded",
              "up"
            ],
            "end": "loaded"
          }
        },
        "start": {
          "input": null,
          "provisional": false,
          "state": {
            "start": [
              "down"
            ],
            "end": "up"
          }
        },
        "stop": {
          "input": null,
          "provisional": false,
          "state": {
            "start": [
              "up"
            ],
            "end": "down"
          }
        },
        "unconfigure": {
          "input": null,
          "provisional": false,
          "state": {
            "start": [
              "configured"
            ],
            "end": "loaded"
          }
        },
        "unload": {
          "input": null,
          "provisional": false,
          "state": {
            "start": [
              "loaded"
            ],
            "end": "unloaded"
          }
        }
      }
    },
    "mdt": {
      "states": {
        "mounted": {
          "dependencies": [
            {
              "exactly": {
                "name": "this.lnet",
                "state": "up"
              }
            }
          ]
        },
        "unmounted": null
      },
      "actions": {
        "mount": {
          "input": {
            "name": "String"
          },
          "provisional": false,
          "state": {
            "start": [
              "unmounted"
            ],
            "end": "mounted"
          }
        }
      }
    },
    "mgt": {
      "states": {
        "mounted": {
          "dependencies": [
            {
              "exactly": {
                "name": "this.lnet",
                "state": "up"
              }
            }
          ]
        },
        "unmounted": null
      },
      "actions": {
        "format": {
          "input": {
            "name": "String"
          },
          "provisional": true,
          "state": {
            "start": null,
            "end": "unmounted"
          }
        },
        "mount": {
          "input": {
            "name": "String,"
          },
          "provisional": false,
          "state": {
            "start": [
              "unmounted"
            ],
            "end": "mounted"
          }
        }
      }
    },
    "mgt_mdt": {
      "states": {
        "mounted": {
          "dependencies": [
            {
              "exactly": {
                "name": "this.lnet",
                "state": "up"
              }
            }
          ]
        },
        "unmounted": null
      },
      "actions": {
        "mount": {
          "input": {
            "name": "String"
          },
          "provisional": false,
          "state": {
            "start": [
              "unmounted"
            ],
            "end": "mounted"
          }
        }
      }
    },
    "ost": {
      "states": {
        "mounted": {
          "dependencies": [
            {
              "exactly": {
                "name": "this.lnet",
                "state": "up"
              }
            }
          ]
        },
        "unmounted": null
      },
      "actions": {
        "mount": {
          "input": {
            "name": "String"
          },
          "provisional": false,
          "state": {
            "start": [
              "unmounted"
            ],
            "end": "mounted"
          }
        }
      }
    },
    "server": {
      "states": {
        "down": null,
        "up": null
      },
      "actions": {
        "add": {
          "input": {
            "auth": "string",
            "hostlist": [
              "string"
            ],
            "tags": [
              "string"
            ],
            "user": "string"
          },
          "provisional": true,
          "state": {
            "start": null,
            "end": "up"
          }
        }
      }
    }
  }
}
