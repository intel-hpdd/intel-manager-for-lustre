---
source: iml-agent/src/high_availability.rs
expression: cluster
---
Cluster {
    nodes: [
        Node {
            name: "ai400-0a9c-vm00",
            id: "4",
            online: true,
            standby: false,
            standby_onfail: false,
            maintenance: false,
            pending: false,
            unclean: false,
            shutdown: false,
            expected_up: true,
            is_dc: false,
            resources_running: 13,
            type: Member,
        },
        Node {
            name: "ai400-0a9c-vm01",
            id: "3",
            online: true,
            standby: false,
            standby_onfail: false,
            maintenance: false,
            pending: false,
            unclean: false,
            shutdown: false,
            expected_up: true,
            is_dc: true,
            resources_running: 10,
            type: Member,
        },
        Node {
            name: "ai400-0a9c-vm02",
            id: "2",
            online: true,
            standby: false,
            standby_onfail: false,
            maintenance: false,
            pending: false,
            unclean: false,
            shutdown: false,
            expected_up: true,
            is_dc: false,
            resources_running: 9,
            type: Member,
        },
        Node {
            name: "ai400-0a9c-vm03",
            id: "1",
            online: true,
            standby: false,
            standby_onfail: false,
            maintenance: false,
            pending: false,
            unclean: false,
            shutdown: false,
            expected_up: true,
            is_dc: false,
            resources_running: 9,
            type: Member,
        },
    ],
    resources: [
        Resource {
            id: "sfa-home-vd",
            resource_agent: "ocf::ddn:sfa-home-vd",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "sfa-home-vd",
            resource_agent: "ocf::ddn:sfa-home-vd",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "sfa-home-vd",
            resource_agent: "ocf::ddn:sfa-home-vd",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm03",
            ),
            active_node_id: Some(
                "1",
            ),
        },
        Resource {
            id: "sfa-home-vd",
            resource_agent: "ocf::ddn:sfa-home-vd",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm02",
            ),
            active_node_id: Some(
                "2",
            ),
        },
        Resource {
            id: "ifspeed-lnet-o2ib0-o2ib0",
            resource_agent: "ocf::ddn:ifspeed",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "ifspeed-lnet-o2ib0-o2ib0",
            resource_agent: "ocf::ddn:ifspeed",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "ifspeed-lnet-o2ib0-o2ib0",
            resource_agent: "ocf::ddn:ifspeed",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm03",
            ),
            active_node_id: Some(
                "1",
            ),
        },
        Resource {
            id: "ifspeed-lnet-o2ib0-o2ib0",
            resource_agent: "ocf::ddn:ifspeed",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm02",
            ),
            active_node_id: Some(
                "2",
            ),
        },
        Resource {
            id: "ping-lnet-o2ib0-o2ib0",
            resource_agent: "ocf::ddn:lnet-ping",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "ping-lnet-o2ib0-o2ib0",
            resource_agent: "ocf::ddn:lnet-ping",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "ping-lnet-o2ib0-o2ib0",
            resource_agent: "ocf::ddn:lnet-ping",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm03",
            ),
            active_node_id: Some(
                "1",
            ),
        },
        Resource {
            id: "ping-lnet-o2ib0-o2ib0",
            resource_agent: "ocf::ddn:lnet-ping",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm02",
            ),
            active_node_id: Some(
                "2",
            ),
        },
        Resource {
            id: "lustre",
            resource_agent: "ocf::ddn:Ticketer",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "mgs-vg",
            resource_agent: "ocf::heartbeat:LVM",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "mgs",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "fs0a9c",
            resource_agent: "ocf::ddn:Ticketer",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm02",
            ),
            active_node_id: Some(
                "2",
            ),
        },
        Resource {
            id: "mdt0000-fs0a9c-vg",
            resource_agent: "ocf::heartbeat:LVM",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "mdt0001-fs0a9c-vg",
            resource_agent: "ocf::heartbeat:LVM",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "mdt0002-fs0a9c-vg",
            resource_agent: "ocf::heartbeat:LVM",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm02",
            ),
            active_node_id: Some(
                "2",
            ),
        },
        Resource {
            id: "mdt0003-fs0a9c-vg",
            resource_agent: "ocf::heartbeat:LVM",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm03",
            ),
            active_node_id: Some(
                "1",
            ),
        },
        Resource {
            id: "mdt0000-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "mdt0001-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "mdt0002-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm02",
            ),
            active_node_id: Some(
                "2",
            ),
        },
        Resource {
            id: "mdt0003-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm03",
            ),
            active_node_id: Some(
                "1",
            ),
        },
        Resource {
            id: "stonith-ai400-0a9c-vm00",
            resource_agent: "stonith:fence_sfa_vm",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm03",
            ),
            active_node_id: Some(
                "1",
            ),
        },
        Resource {
            id: "stonith-ai400-0a9c-vm01",
            resource_agent: "stonith:fence_sfa_vm",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm03",
            ),
            active_node_id: Some(
                "1",
            ),
        },
        Resource {
            id: "stonith-ai400-0a9c-vm02",
            resource_agent: "stonith:fence_sfa_vm",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "stonith-ai400-0a9c-vm03",
            resource_agent: "stonith:fence_sfa_vm",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm02",
            ),
            active_node_id: Some(
                "2",
            ),
        },
        Resource {
            id: "ost0000-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "ost0001-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "ost0002-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm02",
            ),
            active_node_id: Some(
                "2",
            ),
        },
        Resource {
            id: "ost0003-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm03",
            ),
            active_node_id: Some(
                "1",
            ),
        },
        Resource {
            id: "ost0004-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "ost0005-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "ost0006-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm02",
            ),
            active_node_id: Some(
                "2",
            ),
        },
        Resource {
            id: "ost0007-fs0a9c",
            resource_agent: "ocf::ddn:lustre-server",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm03",
            ),
            active_node_id: Some(
                "1",
            ),
        },
        Resource {
            id: "esui-ip",
            resource_agent: "ocf::heartbeat:IPaddr2",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "esui-fs",
            resource_agent: "ocf::heartbeat:Filesystem",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "docker",
            resource_agent: "systemd:docker.service",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "esui-docker",
            resource_agent: "systemd:iml-docker.service",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm00",
            ),
            active_node_id: Some(
                "4",
            ),
        },
        Resource {
            id: "test",
            resource_agent: "systemd:xinetd.service",
            role: "Started",
            active: true,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 1,
            active_node_name: Some(
                "ai400-0a9c-vm01",
            ),
            active_node_id: Some(
                "3",
            ),
        },
        Resource {
            id: "fs0a9c-client",
            resource_agent: "systemd:lustre-fs0a9c-client.mount",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
        Resource {
            id: "fs0a9c-client",
            resource_agent: "systemd:lustre-fs0a9c-client.mount",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
        Resource {
            id: "fs0a9c-client",
            resource_agent: "systemd:lustre-fs0a9c-client.mount",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
        Resource {
            id: "fs0a9c-client",
            resource_agent: "systemd:lustre-fs0a9c-client.mount",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
        Resource {
            id: "lpurge-fs0a9c-OST0000",
            resource_agent: "systemd:lpurge@fs0a9c-OST0000.service",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
        Resource {
            id: "lpurge-fs0a9c-OST0001",
            resource_agent: "systemd:lpurge@fs0a9c-OST0001.service",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
        Resource {
            id: "lamigo-fs0a9c-MDT0000",
            resource_agent: "systemd:lamigo-fs0a9c-MDT0000.service",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
        Resource {
            id: "lamigo-fs0a9c-MDT0001",
            resource_agent: "systemd:lamigo-fs0a9c-MDT0001.service",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
        Resource {
            id: "lamigo-fs0a9c-MDT0002",
            resource_agent: "systemd:lamigo-fs0a9c-MDT0002.service",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
        Resource {
            id: "lamigo-fs0a9c-MDT0003",
            resource_agent: "systemd:lamigo-fs0a9c-MDT0003.service",
            role: "Stopped",
            active: false,
            orphaned: false,
            managed: true,
            failed: false,
            failure_ignored: false,
            nodes_running_on: 0,
            active_node_name: None,
            active_node_id: None,
        },
    ],
    bans: [
        Ban {
            id: "mgs-vg-placement-rule",
            resource: "mgs-vg",
            node: "ai400-0a9c-vm02",
            weight: -1000000,
            master_only: false,
        },
        Ban {
            id: "mgs-vg-placement-rule",
            resource: "mgs-vg",
            node: "ai400-0a9c-vm03",
            weight: -1000000,
            master_only: false,
        },
        Ban {
            id: "mgs-placement-rule",
            resource: "mgs",
            node: "ai400-0a9c-vm02",
            weight: -1000000,
            master_only: false,
        },
        Ban {
            id: "mgs-placement-rule",
            resource: "mgs",
            node: "ai400-0a9c-vm03",
            weight: -1000000,
            master_only: false,
        },
        Ban {
            id: "location-stonith-ai400-0a9c-vm03.ai400-0a9c-vm03",
            resource: "stonith-ai400-0a9c-vm03",
            node: "ai400-0a9c-vm03",
            weight: -1000000,
            master_only: false,
        },
        Ban {
            id: "location-stonith-ai400-0a9c-vm02.ai400-0a9c-vm02",
            resource: "stonith-ai400-0a9c-vm02",
            node: "ai400-0a9c-vm02",
            weight: -1000000,
            master_only: false,
        },
        Ban {
            id: "location-stonith-ai400-0a9c-vm01.ai400-0a9c-vm01",
            resource: "stonith-ai400-0a9c-vm01",
            node: "ai400-0a9c-vm01",
            weight: -1000000,
            master_only: false,
        },
        Ban {
            id: "location-stonith-ai400-0a9c-vm00.ai400-0a9c-vm00",
            resource: "stonith-ai400-0a9c-vm00",
            node: "ai400-0a9c-vm00",
            weight: -1000000,
            master_only: false,
        },
    ],
    resource_mounts: {},
}
